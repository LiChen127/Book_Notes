# 第一章 层叠、优先级和继承

## 1.1 层叠

CSS本质上就是声明规则

**层叠**决定了如何解决冲突

当声明冲突的时候，层叠会依据三种条件解决冲突

- 样式表的来源
- 选择器的优先级
- 源码顺序

### 1.1.1 样式表的来源

- 用户代理样式表
浏览器应用了用户代理样式后才会应用开发者的样式表，即作者样式表
作者样式表是开发者编写的样式表，会覆盖用户代理样式表里的样式
- 作者样式表
- !important

总体优先级

1. !important
2. 作者样式表
3. 用户代理样式表

### 1.1.2 理解优先级

浏览器将优先级分为两部分

1. HTML的行内样式
  如果用HTML的style属性写样式，这个声明只会作用于当前元素。
  实际上行内元素属于 "带作用域的"声明，它会覆盖任何来自样式表或者\<style> 标签的样式
  行内样式没有选择器，他们直接作用于元素本身
2. 选择器的样式
   **选择器的优先级**
   - 如果选择器的id数量更多，则优先级更高
   - id数量一致，则比较class数量
   - class数量一致，则比较标签名
3. 优先级标记
   一个常用的表示优先级的方式是用数值形式来标记，通常用逗号隔开每个数

### 1.1.3 经验法则

- 选择器中最好不要用ID
- 不要使用!important
- NPM包不要写行内样式

## 1.2 继承

## 1.3 特殊值

有两个特殊值可以赋给任意属性, 用于控制层叠: inherit 和 initial

### 1.3.1 inherit

有的时候我们想要用继承代替一个层叠值，就可以用inherit, 它会继承其父元素的值
```css
.parent {
  color: red;
}
.child {
  /* 继承父元素的color值 */
  color: inherit;  
}
```

### 1.3.2 使用initial关键字

有的时候我们想要撤销作用于某个元素的样式，可以使用initial关键字来实现

每一个CSS属性都有一个初始值，如果将initial赋给一个属性，那么这个属性就会使用其初始值, 这种操作相当于硬复位了该值。

```css
.footer a {
  color: initial;
}
/* 比如我想去除一个边框 */
.footer table {
  border: initial;
}
```

## 1.4 简写属性

简写属性是用于同时给多个属性赋值的属性

```css
font: italic 16px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
```

### 1.4.1 简写属性会默默覆盖其他样式

大多数简写属性可以省略一些值，只指定我们关注的值。但是要知道，这样做仍然会设置省略的值，即它们会被隐式地设置为初始值。这会默默覆盖在其他地方定义的样式。

```css
h1 {
  font-weight: bold;
}

.title {
  font: 32px Helvetica, Arial, sans-serif;
}
```
给<h1>添加这些样式会显示成普通的字体，而不是加粗的字体。这些样式也会覆盖从祖先元素继承的字体样式。在所有的简写属性里，font的问题最严重，因为它设置的属性值太多了。

### 1.4.2 理解简写值的顺序

1. 上右下左
2. 水平 垂直

